/**
 *----------------------------------------------
 * Author: lenon
 * Create Time: 2016/3/2 10:37
 * Desc: (负责随机种子初始化)
 * Changed list:
 *        Change author:(若修改请指明修改者)
 *        Change desc:(修改描叙)
 *        Change time:(修改的时间)
 *----------------------------------------------
 **/
var sysConst = require('./../const/sysConst');
var utils = require('./../utils/utils');
var mt19937 = require('mt19937');

module.exports = function (app, opts) {
    return new Component(app, opts);
};

var Component = function (app, opts) {
    this.app = app;
    this.seedLength = opts.seedLength || sysConst.DEFAULT_SETTINGS.RANDOM_SEED_LENGTH;
};

var pro = Component.prototype;

pro.name = '__randomservices__';

pro.start = function (next) {
    // 设置随机种子;
    mt19937.Seed(utils.randomNumber(this.seedLength));
    utils.invokeCallback(next);
};

pro.stop = function (force, next) {
    utils.invokeCallback(next);
};